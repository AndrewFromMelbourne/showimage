<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Keyboard keys</title>
<script type="text/javascript">

//------------------------------------------------------------------------

CanvasRenderingContext2D.prototype.roundedRect = function(x, y, w, h, r)
{
    if (w < 2 * r)
    {
        r = w / 2;
    }

    if (h < 2 * r)
    {
        r = h / 2;
    }

    this.beginPath();
    this.moveTo(x + r, y);
    this.lineTo(x + w - r, y);
    this.quadraticCurveTo(x + w, y, x + w, y + r);
    this.lineTo(x + w, y + h - r);
    this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    this.lineTo(x + r, y + h);
    this.quadraticCurveTo(x, y + h, x, y + h - r);
    this.lineTo(x, y + r);
    this.quadraticCurveTo(x, y, x + r, y);
    this.closePath();
}

//------------------------------------------------------------------------

function init()
{
    var letterBump = 2;
    var horizontalArrowBump = 0;
    var verticalArrowBump = -1;

    keyboardKeyGlyph('canvas_a', "A", letterBump);
    keyboardKeyGlyph('canvas_c', "C", letterBump);
    keyboardKeyGlyph('canvas_d', "D", letterBump);
    keyboardKeyGlyph('canvas_e', "E", letterBump);
    keyboardKeyGlyph('canvas_f', "F", letterBump);
    keyboardKeyGlyph('canvas_g', "G", letterBump);
    keyboardKeyGlyph('canvas_o', "O", letterBump);
    keyboardKeyGlyph('canvas_r', "R", letterBump);
    keyboardKeyGlyph('canvas_s', "S", letterBump);
    keyboardKeyGlyph('canvas_w', "W", letterBump);
    keyboardKeyGlyph('canvas_x', "X", letterBump);
    keyboardKeyGlyph('canvas_z', "Z", letterBump);
    keyboardKeyGlyph('canvas_left', "←", horizontalArrowBump);
    keyboardKeyGlyph('canvas_right', "→", horizontalArrowBump);
    keyboardKeyGlyph('canvas_up', "↑", verticalArrowBump);
    keyboardKeyGlyph('canvas_down', "↓", verticalArrowBump);

    keyboardTextKey('canvas_esc', "Esc", 0);
    keyboardTextKey('canvas_f11', "F11", 0);
    keyboardKeyTwoGlyph('canvas_less', "<", ",", letterBump);
    keyboardKeyTwoGlyph('canvas_greater', ">", ".", letterBump);

    keyboardSpacebarGlyph('canvas_space');
}

//------------------------------------------------------------------------

function keyboardKey(context)
{
    context.lineWidth = 2.0;
    context.roundedRect(1, 1, 34, 34, 8);
    context.fillStyle = "black";
    context.fill();
    context.strokeStyle = "white";
    context.stroke();
}

//------------------------------------------------------------------------

function keyboardKeyGlyph(id, glyph, nudgeDown)
{
    var canvas = document.getElementById(id);
    var context = canvas.getContext('2d');

    context.save();

    keyboardKey(context);

    context.font = "20pt Arial";
    context.textAlign = "center";
    context.textBaseline = "middle";
    context.fillStyle = "white";
    context.fillText(glyph, 18, 18 + nudgeDown);

    context.restore();
}

//------------------------------------------------------------------------

function keyboardKeyTwoGlyph(id, glyph1, glyph2, nudgeDown)
{
    var canvas = document.getElementById(id);
    var context = canvas.getContext('2d');

    context.save();

    keyboardKey(context);

    context.font = "13pt Arial";
    context.textAlign = "center";
    context.textBaseline = "middle";
    context.fillStyle = "white";
    context.fillText(glyph1, 18, 11 + nudgeDown);
    context.fillText(glyph2, 18, 20 + nudgeDown);

    context.restore();
}

//------------------------------------------------------------------------

function keyboardSpacebarGlyph(id)
{
    var canvas = document.getElementById(id);
    var context = canvas.getContext('2d');

    context.save();

    context.lineWidth = 2.0;
    context.roundedRect(1, 1, 151, 34, 8);
    context.fillStyle = "black";
    context.fill();
    context.strokeStyle = "white";
    context.stroke();

    context.font = "12pt Arial";
    context.textAlign = "center";
    context.textBaseline = "middle";
    context.fillStyle = "white";
    context.fillText("Space", 78, 18);

    context.restore();
}

//------------------------------------------------------------------------

function keyboardTextKey(id, text, nudgeDown)
{
    var canvas = document.getElementById(id);

    var context = canvas.getContext('2d');

    context.save();

    keyboardKey(context);

    context.font = "12pt Arial";
    context.textAlign = "center";
    context.textBaseline = "middle";
    context.fillStyle = "white";
    context.fillText(text, 18, 18);

    context.restore();
}

//------------------------------------------------------------------------

</script>
<style>

    #wrapper
    {
        width: 348px;
        height: 130px;
        margin-top: 3px;
        margin-left: auto;
        margin-right: auto;
        background: black;
    }

    body
    {
        background: white;
    }

</style>
</head>
<body onload="init();">

<div id="wrapper">
    <canvas id="canvas_a" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_c" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_d" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_e" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_f" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_g" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_o" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_r" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_s" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_w" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_x" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_z" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_left" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_right" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_up" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_down" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_esc" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_f11" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_space" width="153" height="36">No canvas support! </canvas>
    <canvas id="canvas_less" width="36" height="36">No canvas support! </canvas>
    <canvas id="canvas_greater" width="36" height="36">No canvas support! </canvas>
</div>

</body>
</html>
